# μ¤ν”„λ§ μ¤μΌ€μ¤„λ¬ ν•™μµ - Level 3: ν•΄κ²°μ±… (ShedLock)

## 1. ν•µμ‹¬ κ°λ… μ •λ¦¬
- **λ¶„μ‚° λ½ (Distributed Lock)**: μ—¬λ¬ μ„λ²„κ°€ λ™μ‹μ— ν•λ‚μ μ‘μ—…μ„ ν•λ ¤κ³  ν•  λ•, μ¤μ§ **'ν•λ‚μ μ„λ²„'**μ—κ²λ§ μ‹¤ν–‰ κ¶ν•μ„ λ¶€μ—¬ν•λ” 'μλ¬Όμ‡ ' κΈ°μ .
- **ShedLock**: μ΄ 'λ¶„μ‚° λ½' κ°λ…μ„ `@Scheduled`μ™€ ν•¨κ» μ•„μ£Ό κ°„λ‹¨ν•κ² μ‚¬μ©ν•  μ μλ„λ΅ λ§λ“  λΌμ΄λΈλ¬λ¦¬.
- **λ™μ‘ μ›λ¦¬ (νμμ‹¤ μμ•½ λΉ„μ  π)**:
    1.  λ¨λ“  μ„λ²„κ°€ ν•¨κ» λ³΄λ” **κ³µμ© μμ•½ λ³΄λ“**(DB λλ” Redis)λ¥Ό λ‘”λ‹¤.
    2.  μ¤μΌ€μ¤„λ¬ μ‹¤ν–‰ μ‹κ°„μ΄ λλ©΄, λ¨λ“  μ„λ²„κ°€ λ™μ‹μ— μμ•½μ„ μ‹λ„ν•λ‹¤.
    3.  κ°€μ¥ λ¨Όμ € μμ•½μ— μ„±κ³µν• **λ‹¨ ν•λ‚μ μ„λ²„**λ§μ΄ μ‹¤μ  μ‘μ—…(νμ)μ„ μν–‰ν•λ‹¤.
    4.  λ‚λ¨Έμ§€ μ„λ²„λ“¤μ€ "μ΄λ―Έ μμ•½λ¨"μ„ ν™•μΈν•κ³  μ•„λ¬΄ μ‘μ—…λ„ ν•μ§€ μ•λ”λ‹¤.


## 2. 4κµμ‹ μµμΆ… μ‹¤μµ μ¤€λΉ„
- **μμ΅΄μ„±**: `build.gradle`μ— `shedlock-spring`κ³Ό λ½ μ €μ¥μ†λ΅ μ‚¬μ©ν•  `shedlock-provider-redis-spring` λΌμ΄λΈλ¬λ¦¬λ¥Ό μ¶”κ°€ν•΄μ•Ό ν•λ‹¤.
- **μ„¤μ •**: `@EnableSchedulerLock` μ–΄λ…Έν…μ΄μ…μΌλ΅ ShedLockμ„ ν™μ„±ν™”ν•κ³ , `LockProvider` Beanμ„ λ“±λ΅ν•μ—¬ λ½ μ €μ¥μ†λ¥Ό μ§€μ •ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.
- **μ‚¬μ©λ²•**: κΈ°μ΅΄ `@Scheduled` μ–΄λ…Έν…μ΄μ… μ„μ— `@SchedulerLock` μ–΄λ…Έν…μ΄μ…μ„ μ¶”κ°€ν•μ—¬, κ° μ¤μΌ€μ¤„λ§ μ‘μ—…μ— 'μλ¬Όμ‡ 'λ¥Ό κ±Έμ–΄μ¤€λ‹¤.

## 3. ν•™μµν• λ‚΄μ©
- λ¶„μ‚° ν™κ²½μ—μ„μ μ¤μΌ€μ¤„λ¬ μ¤‘λ³µ μ‹¤ν–‰ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν• ν‘μ¤€ μ†”λ£¨μ…μΌλ΅ 'λ¶„μ‚° λ½'κ³Ό 'ShedLock'μ κ°λ…μ„ μ΄ν•΄ν–λ‹¤.
- ShedLockμ΄ DBλ‚ Redisμ™€ κ°™μ€ μ™Έλ¶€ μ €μ¥μ†λ¥Ό 'κ³µμ© μμ•½ λ³΄λ“'μ²λΌ μ‚¬μ©ν•μ—¬, μ—¬λ¬ μ„λ²„ μ¤‘ λ‹¨ ν•λ‚λ§ μ‘μ—…μ„ μ‹¤ν–‰ν•λ„λ΅ λ³΄μ¥ν•λ” μ›λ¦¬λ¥Ό λ°°μ› λ‹¤.
- 4κµμ‹ μµμΆ… μ‹¤μµμ„ ν†µν•΄ μ΄ λ¨λ“  κ²ƒμ„ μ§μ ‘ κµ¬ν„ν•  μ¤€λΉ„λ¥Ό λ§μ³¤λ‹¤.