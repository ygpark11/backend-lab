# 스프링 배치 학습 - Level 1: 기본 구조 이해

## 1. 핵심 개념 정리
- **스프링 배치(Spring Batch)**: 대량의 데이터를 안정적으로 처리하기 위해 설계된 '전문 화물 트럭'과 같은 프레임워크.
- **`Job`**: '하나의 완성된 이삿짐 작업'. 배치의 가장 큰 단위.
- **`Step`**: `Job`을 구성하는 실질적인 작업 단계.
- **`Tasklet`**: `Step` 내부에서 실행되는 가장 단순한 형태의 작업 단위.

---

## 2. 실습 기록 및 Q&A

### 2-1. `HelloWorldJobConfig.java`
- `Job`, `Step`, `Tasklet`을 각각 `@Bean`으로 등록하여 "Hello, World!"를 출력하는 가장 기본적인 배치 잡을 구성했다.

### 2-2. `application.yml`
```yaml
spring:
  batch:
    job:
      name: helloWorldJob # 애플리케이션 실행 시 이 이름의 Job을 자동으로 실행
```

### 2-3. JobRepository와 트랜잭션 (핵심 Q&A)

#### Q1: `JobRepository`와 `PlatformTransactionManager`는 왜 필요한가요?

- **A: `JobRepository` (관제 기록실 📜)**
    - 모든 `Job`과 `Step`의 실행 기록, 즉 **메타데이터**를 DB에 저장하고 관리합니다.
    - 이 기록 덕분에 작업 실패 시, 실패한 지점부터 **'자동 재시작'**이 가능해집니다.

- **A: `PlatformTransactionManager` (안전 감독관 👮)**
    - `Step`이 **'Chunk(덩어리)'** 단위로 데이터를 처리할 때, 각 Chunk를 하나의 트랜잭션으로 묶어 데이터 정합성을 보장합니다.
    - 실패 시 해당 Chunk만 정확하게 롤백하여 데이터가 꼬이는 것을 방지합니다.

#### Q2: 메타데이터를 저장할 DB가 보이지 않는데 어떻게 동작하나요?

- **A: H2 데이터베이스의 마법 ✨**
    - `H2 Database` 의존성을 추가하면, 스프링 부트는 개발 편의를 위해 애플리케이션 실행 시에만 잠시 사용하고 종료 시 사라지는 **'일회용 인메모리(In-Memory) DB'**를 자동으로 만들어줍니다.
    - 따라서 별도의 DB 설치나 설정 없이도 `JobRepository`가 정상적으로 동작할 수 있습니다.
    - ### 2-4. H2 데이터베이스 (핵심 Q&A)

#### Q: 메타데이터를 저장할 DB가 보이지 않는데 어떻게 동작하나요?

- **A: H2 데이터베이스의 마법 ✨**
    - `H2 Database` 의존성을 추가하면, 스프링 부트는 개발 편의를 위해 애플리케이션 실행 시에만 잠시 사용하고 종료 시 사라지는 **'일회용 인메모리(In-Memory) DB'**를 자동으로 만들어줍니다.
    - 따라서 별도의 DB 설치나 설정 없이도 `JobRepository`가 정상적으로 동작할 수 있습니다.

---

## 3. 학습한 내용

- 이번 실습을 통해 스프링 배치의 가장 기본적인 구성 요소인 **`Job`, `Step`, `Tasklet`**의 관계를 이해했습니다.
- 눈에 보이지 않는 **`JobRepository`**와 **트랜잭션 매니저**가 어떻게 대용량 데이터 처리의 **안정성**과 **재시작 기능**을 보장하는지 그 핵심 원리를 파악했습니다.
- 특히, 작업 실패 시 **Chunk 단위**로 롤백되고, 재시작 시 실패한 Chunk부터 자동으로 이어서 처리한다는 스프링 배치의 강력한 데이터 정합성 보장 메커니즘을 학습했습니다.