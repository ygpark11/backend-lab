services:
  rabbitmq:
    image: rabbitmq:3-management # (공식 RabbitMQ 이미지)
    container_name: rabbitmq_boot
    ports:
      - "5672:5672"  # AMQP 포트do
      - "15672:15672" # 관리자 UI 포트
    networks:
      - backend-lab-network # 서비스들이 사용할 네트워크

  # --- ★★★ Zipkin 서비스 추가 ★★★ ---
  zipkin:
    image: openzipkin/zipkin:latest # 공식 Zipkin 이미지 사용
    container_name: zipkin
    ports:
      - "9411:9411" # Zipkin UI 및 API 포트
    networks:
      - backend-lab-network # 같은 네트워크에 연결

networks:
  backend-lab-network:
    driver: bridge